{"id":"task-1770058456-76db","title":"M1: Consolidate DB engine to single module","description":"Move engine creation to app/pkgs/database/provider.py only, make it lazy/injectable","status":"closed","priority":1,"blocked_by":[],"loop_id":"primary-20260202-185204","created":"2026-02-02T18:54:16.947934+00:00","closed":"2026-02-02T18:57:42.676547+00:00"}
{"id":"task-1770058461-6f1a","title":"M1: Update app/core/db.py to use consolidated engine","description":"init_db() should accept optional engine/session parameter","status":"closed","priority":1,"blocked_by":["task-1770058456-76db"],"loop_id":"primary-20260202-185204","created":"2026-02-02T18:54:21.945950+00:00","closed":"2026-02-02T18:58:04.620272+00:00"}
{"id":"task-1770058466-53e3","title":"M2: Remove @lru_cache from repository providers","description":"Update all 8 repository providers to accept Session parameter","status":"closed","priority":2,"blocked_by":["task-1770058461-6f1a"],"loop_id":"primary-20260202-185204","created":"2026-02-02T18:54:26.087015+00:00","closed":"2026-02-02T19:22:27.452140+00:00"}
{"id":"task-1770058471-ed3a","title":"M2: Update service/usecase providers to thread session","description":"Services and usecases must pass session to repo providers","status":"closed","priority":2,"blocked_by":["task-1770058466-53e3"],"loop_id":"primary-20260202-185204","created":"2026-02-02T18:54:31.257342+00:00","closed":"2026-02-02T19:06:45.680947+00:00"}
{"id":"task-1770058475-bfce","title":"M3: Update API routes to pass SessionDep to providers","description":"Routes calling provide() need to inject session via Depends","status":"closed","priority":2,"blocked_by":["task-1770058471-ed3a"],"loop_id":"primary-20260202-185204","created":"2026-02-02T18:54:35.049105+00:00","closed":"2026-02-02T19:22:27.527956+00:00"}
{"id":"task-1770058478-f9ab","title":"M4: Fix test imports and add SQLite in-memory fixture","description":"Fix conftest imports, add StaticPool SQLite fixture, override get_db","status":"closed","priority":2,"blocked_by":["task-1770058475-bfce"],"loop_id":"primary-20260202-185204","created":"2026-02-02T18:54:38.850351+00:00","closed":"2026-02-02T19:57:18.075978+00:00"}
{"id":"task-1770058483-bbab","title":"M4: Update tests to use domain services instead of crud","description":"Remove crud imports, fix UserCreate disabled->is_active, use repos/services","status":"closed","priority":2,"blocked_by":["task-1770058478-f9ab"],"loop_id":"primary-20260202-185204","created":"2026-02-02T18:54:43.244655+00:00","closed":"2026-02-02T20:24:55.167291+00:00"}
{"id":"task-1770064529-42d5","title":"Fix mock assertions","description":"Fix called_once_with to assert_called_once_with","status":"closed","priority":1,"blocked_by":[],"loop_id":"primary-20260202-201824","created":"2026-02-02T20:35:29.869080+00:00","closed":"2026-02-02T20:38:42.061025+00:00"}
{"id":"task-1770064538-3251","title":"Add list_users route","description":"Create list_users.py route and register it","status":"closed","priority":3,"blocked_by":["task-1770064529-42d5"],"loop_id":"primary-20260202-201824","created":"2026-02-02T20:35:38.143956+00:00","closed":"2026-02-02T20:45:20.434856+00:00"}
{"id":"task-1770064756-3c13","title":"Fix permissions test","description":"Update test_get_existing_user_permissions_error to use existing user ID","status":"closed","priority":2,"blocked_by":[],"loop_id":"primary-20260202-201824","created":"2026-02-02T20:39:16.474139+00:00","closed":"2026-02-02T20:42:35.602584+00:00"}
{"id":"task-1770064776-5082","title":"Fix reset_password API","description":"Fix login.py to use UserRepository instead of UserService for password update","status":"closed","priority":2,"blocked_by":[],"loop_id":"primary-20260202-201824","created":"2026-02-02T20:39:36.151685+00:00","closed":"2026-02-02T20:41:17.796057+00:00"}
