{
  "openapi": "3.1.0",
  "info": {
    "title": "Full Stack FastAPI Project",
    "version": "0.1.0"
  },
  "paths": {
    "/api/v1/login/access-token": {
      "post": {
        "tags": [
          "login"
        ],
        "summary": "Login Access Token",
        "description": "OAuth2 compatible token login, get an access token for future requests",
        "operationId": "login-login_access_token",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_login-login_access_token"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/login/test-token": {
      "post": {
        "tags": [
          "login"
        ],
        "summary": "Test Token",
        "description": "Test access token",
        "operationId": "login-test_token",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPublic"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/password-recovery/{email}": {
      "post": {
        "tags": [
          "login"
        ],
        "summary": "Recover Password",
        "description": "Password Recovery",
        "operationId": "login-recover_password",
        "parameters": [
          {
            "name": "email",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Email"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/reset-password/": {
      "post": {
        "tags": [
          "login"
        ],
        "summary": "Reset Password",
        "description": "Reset password",
        "operationId": "login-reset_password",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NewPassword"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/password-recovery-html-content/{email}": {
      "post": {
        "tags": [
          "login"
        ],
        "summary": "Recover Password Html Content",
        "description": "HTML Content for Password Recovery",
        "operationId": "login-recover_password_html_content",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "email",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Email"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "List Users",
        "description": "List all users (superusers only).\n\nArgs:\n    session: Database session\n    current_user: Current authenticated user\n    skip: Number of records to skip for pagination\n    limit: Maximum number of records to return\n\nReturns:\n    UsersPublic: Paginated list of users with total count\n\nRaises:\n    HTTPException: If user is not a superuser (403)",
        "operationId": "users-list_users",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UsersPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Create User",
        "description": "Create new user.",
        "operationId": "users-create_user",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/me": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get Current User",
        "description": "Get current user.",
        "operationId": "users-get_current_user",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPublic"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      },
      "delete": {
        "tags": [
          "users"
        ],
        "summary": "Delete Current User",
        "description": "Delete own user.",
        "operationId": "users-delete_current_user",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      },
      "patch": {
        "tags": [
          "users"
        ],
        "summary": "Update Current User",
        "description": "Update own user.",
        "operationId": "users-update_current_user",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdateMe"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/users/me/balance": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get User Balance",
        "description": "Get current user's balance information.\n\nReturns:\n    UserBalancePublic: Contains total_balance and monthly_balance\n\nLogic:\n    - Total balance: Sum of all transactions from unpaid/partially paid statements - all payments\n    - Monthly balance: Same as total, but excludes transactions with future installment dates",
        "operationId": "users-get_user_balance",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserBalancePublic"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/users/me/password": {
      "patch": {
        "tags": [
          "users"
        ],
        "summary": "Update Current User Password",
        "description": "Update own password.",
        "operationId": "users-update_current_user_password",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePassword"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/users/signup": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Register User",
        "description": "Create new user without the need to be logged in.",
        "operationId": "users-register_user",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserRegister"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get User By Id",
        "description": "Get a specific user by id.",
        "operationId": "users-get_user_by_id",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "users"
        ],
        "summary": "Update User By Id",
        "description": "Update a user.",
        "operationId": "users-update_user_by_id",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "users"
        ],
        "summary": "Delete User By Id",
        "description": "Delete a user.",
        "operationId": "users-delete_user_by_id",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/credit-cards/": {
      "get": {
        "tags": [
          "credit-cards"
        ],
        "summary": "List Credit Cards",
        "description": "Retrieve credit cards.\n\nBy default, returns the current user's cards. Superusers can filter by user_id.",
        "operationId": "credit-cards-list_credit_cards",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreditCardsPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "credit-cards"
        ],
        "summary": "Create Credit Card",
        "description": "Create a new credit card.\n\nUsers can only create cards for themselves.\nSuperusers can create cards for any user.",
        "operationId": "credit-cards-create_credit_card",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreditCardCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreditCardPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/credit-cards/{card_id}": {
      "get": {
        "tags": [
          "credit-cards"
        ],
        "summary": "Get Credit Card",
        "description": "Get a credit card by ID.\n\nUsers can only get their own cards.\nSuperusers can get any card.",
        "operationId": "credit-cards-get_credit_card",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "card_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Card Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreditCardPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "credit-cards"
        ],
        "summary": "Update Credit Card",
        "description": "Update a credit card.\n\nUsers can only update their own cards.\nSuperusers can update any card.",
        "operationId": "credit-cards-update_credit_card",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "card_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Card Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreditCardUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreditCardPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "credit-cards"
        ],
        "summary": "Delete Credit Card",
        "description": "Delete a credit card.\n\nUsers can only delete their own cards.\nSuperusers can delete any card.",
        "operationId": "credit-cards-delete_credit_card",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "card_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Card Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/card-statements/": {
      "get": {
        "tags": [
          "card-statements"
        ],
        "summary": "List Card Statements",
        "description": "Retrieve card statements.\n\nBy default, returns the current user's statements. Superusers can filter by user_id.\nCan also filter by card_id.",
        "operationId": "card-statements-list_card_statements",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          },
          {
            "name": "card_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Card Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardStatementsPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "card-statements"
        ],
        "summary": "Create Card Statement",
        "description": "Create a new card statement.\n\nUsers can only create statements for cards they own.\nSuperusers can create statements for any card.",
        "operationId": "card-statements-create_card_statement",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CardStatementCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardStatementPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/card-statements/{statement_id}": {
      "get": {
        "tags": [
          "card-statements"
        ],
        "summary": "Get Card Statement",
        "description": "Get a specific card statement by ID.\n\nUsers can only view their own statements.\nSuperusers can view any statement.",
        "operationId": "card-statements-get_card_statement",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "statement_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Statement Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardStatementPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "card-statements"
        ],
        "summary": "Update Card Statement",
        "description": "Update a card statement.\n\nUsers can only update their own statements.\nSuperusers can update any statement.",
        "operationId": "card-statements-update_card_statement",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "statement_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Statement Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CardStatementUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardStatementPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "card-statements"
        ],
        "summary": "Delete Card Statement",
        "description": "Delete a card statement.\n\nUsers can only delete their own statements.\nSuperusers can delete any statement.",
        "operationId": "card-statements-delete_card_statement",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "statement_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Statement Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/card-statements/upload": {
      "post": {
        "tags": [
          "card-statements"
        ],
        "summary": "Upload a credit card statement PDF",
        "description": "Accepts a PDF file and starts async extraction. Returns job ID for status polling.",
        "operationId": "card-statements-upload_statement",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_card-statements-upload_statement"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Upload accepted, processing started",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadJobPublic"
                }
              }
            }
          },
          "400": {
            "description": "Invalid file (not PDF, too large, or duplicate)"
          },
          "403": {
            "description": "Card doesn't belong to user"
          },
          "404": {
            "description": "Credit card not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/payments/": {
      "get": {
        "tags": [
          "payments"
        ],
        "summary": "List Payments",
        "description": "Retrieve payments.\n\nBy default, returns the current user's payments. Superusers can filter by user_id.",
        "operationId": "payments-list_payments",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaymentsPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "payments"
        ],
        "summary": "Create Payment",
        "description": "Create a new payment.\n\nUsers can only create payments for themselves.\nSuperusers can create payments for any user.",
        "operationId": "payments-create_payment",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PaymentCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaymentPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/payments/{payment_id}": {
      "get": {
        "tags": [
          "payments"
        ],
        "summary": "Get Payment",
        "description": "Get a specific payment by ID.\n\nUsers can only view their own payments.\nSuperusers can view any payment.",
        "operationId": "payments-get_payment",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "payment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Payment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaymentPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "payments"
        ],
        "summary": "Update Payment",
        "description": "Update a payment.\n\nUsers can only update their own payments.\nSuperusers can update any payment.",
        "operationId": "payments-update_payment",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "payment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Payment Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PaymentUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaymentPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "payments"
        ],
        "summary": "Delete Payment",
        "description": "Delete a payment.\n\nUsers can only delete their own payments.\nSuperusers can delete any payment.",
        "operationId": "payments-delete_payment",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "payment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Payment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/transactions/": {
      "get": {
        "tags": [
          "transactions"
        ],
        "summary": "List Transactions",
        "description": "Retrieve transactions.\n\nIf statement_id is provided, returns transactions for that statement.\nUsers can only view transactions for statements they own (via credit card ownership).\nSuperusers can view transactions for any statement.",
        "operationId": "transactions-list_transactions",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "statement_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Statement Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionsPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "transactions"
        ],
        "summary": "Create Transaction",
        "description": "Create a new transaction.\n\nUsers can only create transactions for statements they own.\nSuperusers can create transactions for any statement.",
        "operationId": "transactions-create_transaction",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TransactionCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/transactions/{transaction_id}": {
      "get": {
        "tags": [
          "transactions"
        ],
        "summary": "Get Transaction",
        "description": "Get a specific transaction by ID.\n\nUsers can only view transactions for statements they own.\nSuperusers can view any transaction.",
        "operationId": "transactions-get_transaction",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "transaction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Transaction Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "transactions"
        ],
        "summary": "Update Transaction",
        "description": "Update a transaction.\n\nUsers can only update transactions for statements they own.\nSuperusers can update any transaction.",
        "operationId": "transactions-update_transaction",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "transaction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Transaction Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TransactionUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "transactions"
        ],
        "summary": "Delete Transaction",
        "description": "Delete a transaction.\n\nUsers can only delete transactions for statements they own.\nSuperusers can delete any transaction.",
        "operationId": "transactions-delete_transaction",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "transaction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Transaction Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/currency/convert": {
      "post": {
        "tags": [
          "currency"
        ],
        "summary": "Convert Currency",
        "description": "Convert a single amount between currencies.\n\nUses database-backed exchange rates with fallback to closest date.\n\nRaises:\n    HTTPException(400): If the currency pair is not supported or date format is invalid.\n    HTTPException(404): If no exchange rate is found for the requested date (or fallback).",
        "operationId": "currency-convert_currency",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional date override (YYYY-MM-DD). Overrides date in request body if provided.",
              "title": "Date"
            },
            "description": "Optional date override (YYYY-MM-DD). Overrides date in request body if provided."
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CurrencyConversionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CurrencyConversionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/currency/convert/batch": {
      "post": {
        "tags": [
          "currency"
        ],
        "summary": "Convert Currency Batch",
        "description": "Convert multiple amounts between currencies.\n\nUses database-backed exchange rates with fallback to closest date.\n\nRaises:\n    HTTPException(400): If any currency pair is not supported or date format is invalid.\n    HTTPException(404): If no exchange rate is found for the requested date (or fallback).",
        "operationId": "currency-convert_currency_batch",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional date override (YYYY-MM-DD). Overrides date in request body if provided for all conversions.",
              "title": "Date"
            },
            "description": "Optional date override (YYYY-MM-DD). Overrides date in request body if provided for all conversions."
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchCurrencyConversionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchCurrencyConversionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/currency/rates/extract": {
      "post": {
        "tags": [
          "currency"
        ],
        "summary": "Trigger Extraction",
        "description": "Trigger manual extraction of the latest D\u00f3lar MEP rate (admin only).\n\nEnqueues a background job that:\n1. Fetches the current rate from Cronista\n2. Upserts it to the exchange_rate table\n3. Logs success or failure\n\nThe endpoint returns immediately with 202 Accepted while the\nextraction runs in the background.\n\nReturns:\n    {\"status\": \"extraction_started\"}\n\nRaises:\n    HTTPException(403): If user is not a superuser.",
        "operationId": "currency-trigger_extraction",
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Currency-Trigger Extraction"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/currency/rates": {
      "get": {
        "tags": [
          "currency"
        ],
        "summary": "Get Exchange Rates",
        "description": "Query exchange rates in three modes:\n\n- Latest: Default if no date params provided.\n- Single date: If 'date' is provided (with closest-date fallback).\n- Date range: If 'start_date' and 'end_date' are provided.\n\nRaises:\n    HTTPException(400): If currency params are invalid, unsupported, or if date params are conflicting/invalid.",
        "operationId": "currency-get_exchange_rates",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "base",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Base currency (e.g., USD)",
              "default": "USD",
              "title": "Base"
            },
            "description": "Base currency (e.g., USD)"
          },
          {
            "name": "target",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Target currency (e.g., ARS)",
              "default": "ARS",
              "title": "Target"
            },
            "description": "Target currency (e.g., ARS)"
          },
          {
            "name": "date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Query for a specific date",
              "title": "Date"
            },
            "description": "Query for a specific date"
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Start date for range query",
              "title": "Start Date"
            },
            "description": "Start date for range query"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "End date for range query",
              "title": "End Date"
            },
            "description": "End date for range query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExchangeRatesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/upload-jobs/{job_id}": {
      "get": {
        "tags": [
          "upload-jobs"
        ],
        "summary": "Get upload job status",
        "description": "Poll this endpoint to check processing status. Returns statement_id when completed.",
        "operationId": "upload-jobs-get_upload_job",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Job found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadJobPublic"
                }
              }
            }
          },
          "404": {
            "description": "Job not found or belongs to another user"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/tags/": {
      "get": {
        "tags": [
          "tags"
        ],
        "summary": "List Tags",
        "description": "Retrieve tags.\n\nBy default, returns the current user's tags. Superusers can filter by user_id.",
        "operationId": "tags-list_tags",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TagsPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "tags"
        ],
        "summary": "Create Tag",
        "description": "Create a new tag.\n\nUsers can only create tags for themselves.\nSuperusers can create tags for any user.",
        "operationId": "tags-create_tag",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TagCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TagPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/tags/{tag_id}": {
      "get": {
        "tags": [
          "tags"
        ],
        "summary": "Get Tag",
        "description": "Get a specific tag by ID.\n\nUsers can only view their own tags.\nSuperusers can view any tag.",
        "operationId": "tags-get_tag",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Tag Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TagPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "tags"
        ],
        "summary": "Update Tag",
        "description": "Update a tag.\n\nUsers can only update their own tags.\nSuperusers can update any tag.",
        "operationId": "tags-update_tag",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Tag Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TagUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TagPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "tags"
        ],
        "summary": "Delete Tag",
        "description": "Delete a tag.\n\nUsers can only delete their own tags.\nSuperusers can delete any tag.",
        "operationId": "tags-delete_tag",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Tag Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/transaction-tags/": {
      "post": {
        "tags": [
          "transaction-tags"
        ],
        "summary": "Add Tag To Transaction",
        "description": "Add a tag to a transaction.\n\nUsers can only add tags to transactions they own.\nSuperusers can add tags to any transaction.",
        "operationId": "transaction-tags-add_tag_to_transaction",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TransactionTagCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionTagPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/transaction-tags/transaction/{transaction_id}": {
      "get": {
        "tags": [
          "transaction-tags"
        ],
        "summary": "Get Transaction Tags",
        "description": "Get all tags for a transaction.\n\nUsers can only view tags for transactions they own (via credit card ownership).\nSuperusers can view tags for any transaction.",
        "operationId": "transaction-tags-get_transaction_tags",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "transaction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Transaction Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TransactionTagPublic"
                  },
                  "title": "Response Transaction-Tags-Get Transaction Tags"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/transaction-tags/batch": {
      "post": {
        "tags": [
          "transaction-tags"
        ],
        "summary": "Get Transaction Tags Batch",
        "description": "Get all tags for multiple transactions in a single request.\n\nReturns all transaction-tag mappings for the given transaction IDs.\nRequires authentication (current_user dependency enforces this).",
        "operationId": "transaction-tags-get_transaction_tags_batch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchTransactionTagsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/TransactionTagPublic"
                  },
                  "type": "array",
                  "title": "Response Transaction-Tags-Get Transaction Tags Batch"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/transaction-tags/transaction/{transaction_id}/tag/{tag_id}": {
      "delete": {
        "tags": [
          "transaction-tags"
        ],
        "summary": "Remove Tag From Transaction",
        "description": "Remove a tag from a transaction.\n\nUsers can only remove tags from transactions they own.\nSuperusers can remove tags from any transaction.",
        "operationId": "transaction-tags-remove_tag_from_transaction",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "transaction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Transaction Id"
            }
          },
          {
            "name": "tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Tag Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rules/apply": {
      "post": {
        "tags": [
          "rules"
        ],
        "summary": "Apply Rules",
        "description": "Apply rules to transactions.\n\nEvaluates all active rules for the current user against the specified\ntransactions. If a rule matches, its associated tags are applied.\n\n- If statement_id is provided, applies rules to all transactions in that statement\n- If transaction_ids is provided, applies rules to those specific transactions\n- If neither is provided, returns an empty response (no transactions to process)\n\nReturns details about which rules matched and which tags were applied.",
        "operationId": "rules-apply_rules",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApplyRulesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplyRulesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/rules/": {
      "post": {
        "tags": [
          "rules"
        ],
        "summary": "Create Rule",
        "description": "Create a new rule.\n\nUsers can only create rules for themselves.\nSuperusers can create rules for any user.",
        "operationId": "rules-create_rule",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RuleCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RulePublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "rules"
        ],
        "summary": "List Rules",
        "description": "Retrieve rules for the current user.\n\nReturns paginated list of rules belonging to the authenticated user.",
        "operationId": "rules-list_rules",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RulesPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rules/{rule_id}": {
      "get": {
        "tags": [
          "rules"
        ],
        "summary": "Get Rule",
        "description": "Get a specific rule by ID.\n\nUsers can only view their own rules.\nSuperusers can view any rule.",
        "operationId": "rules-get_rule",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Rule Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RulePublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "rules"
        ],
        "summary": "Update Rule",
        "description": "Update a rule.\n\nReplaces the rule's conditions and actions with the provided data.\nUsers can only update their own rules.\nSuperusers can update any rule.",
        "operationId": "rules-update_rule",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Rule Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RuleUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RulePublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "rules"
        ],
        "summary": "Delete Rule",
        "description": "Delete a rule.\n\nCascades to delete all conditions and actions.\nUsers can only delete their own rules.\nSuperusers can delete any rule.",
        "operationId": "rules-delete_rule",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Rule Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/notifications/trigger": {
      "post": {
        "tags": [
          "notifications"
        ],
        "summary": "Trigger Notification",
        "description": "Manually trigger due date notification check for the current user.",
        "operationId": "notifications-trigger_notification",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TriggerResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/utils/test-email/": {
      "post": {
        "tags": [
          "utils"
        ],
        "summary": "Test Email",
        "description": "Test emails.",
        "operationId": "utils-test_email",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "email_to",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "email",
              "title": "Email To"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/utils/health-check/": {
      "get": {
        "tags": [
          "utils"
        ],
        "summary": "Health Check",
        "operationId": "utils-health_check",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "boolean",
                  "title": "Response Utils-Health Check"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/private/users/": {
      "post": {
        "tags": [
          "private"
        ],
        "summary": "Create User",
        "description": "Create a new user.",
        "operationId": "private-create_user",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PrivateUserCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ActionType": {
        "type": "string",
        "enum": [
          "add_tag"
        ],
        "title": "ActionType",
        "description": "Types of actions a rule can perform."
      },
      "ApplyRulesRequest": {
        "properties": {
          "statement_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Statement Id"
          },
          "transaction_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "format": "uuid"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Transaction Ids"
          }
        },
        "type": "object",
        "title": "ApplyRulesRequest",
        "description": "Input for the apply rules endpoint."
      },
      "ApplyRulesResponse": {
        "properties": {
          "transactions_processed": {
            "type": "integer",
            "title": "Transactions Processed"
          },
          "tags_applied": {
            "type": "integer",
            "title": "Tags Applied"
          },
          "details": {
            "items": {
              "$ref": "#/components/schemas/TransactionMatch"
            },
            "type": "array",
            "title": "Details"
          }
        },
        "type": "object",
        "required": [
          "transactions_processed",
          "tags_applied",
          "details"
        ],
        "title": "ApplyRulesResponse",
        "description": "Output for the apply rules endpoint."
      },
      "BatchCurrencyConversionRequest": {
        "properties": {
          "conversions": {
            "items": {
              "$ref": "#/components/schemas/CurrencyConversionRequest"
            },
            "type": "array",
            "title": "Conversions"
          }
        },
        "type": "object",
        "required": [
          "conversions"
        ],
        "title": "BatchCurrencyConversionRequest",
        "description": "Request model for converting multiple amounts."
      },
      "BatchCurrencyConversionResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/CurrencyConversionResponse"
            },
            "type": "array",
            "title": "Results"
          }
        },
        "type": "object",
        "required": [
          "results"
        ],
        "title": "BatchCurrencyConversionResponse",
        "description": "Response model for batch currency conversion."
      },
      "BatchTransactionTagsRequest": {
        "properties": {
          "transaction_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "title": "Transaction Ids"
          }
        },
        "type": "object",
        "required": [
          "transaction_ids"
        ],
        "title": "BatchTransactionTagsRequest",
        "description": "Request body for batch fetching transaction tags."
      },
      "Body_card-statements-upload_statement": {
        "properties": {
          "card_id": {
            "type": "string",
            "format": "uuid",
            "title": "Card Id"
          },
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "card_id",
          "file"
        ],
        "title": "Body_card-statements-upload_statement"
      },
      "Body_login-login_access_token": {
        "properties": {
          "grant_type": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^password$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Grant Type"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "format": "password",
            "title": "Password"
          },
          "scope": {
            "type": "string",
            "title": "Scope",
            "default": ""
          },
          "client_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id"
          },
          "client_secret": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "format": "password",
            "title": "Client Secret"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "Body_login-login_access_token"
      },
      "CardBrand": {
        "type": "string",
        "enum": [
          "visa",
          "mastercard",
          "amex",
          "discover",
          "other"
        ],
        "title": "CardBrand",
        "description": "Enumeration for credit card brands."
      },
      "CardStatementCreate": {
        "properties": {
          "card_id": {
            "type": "string",
            "format": "uuid",
            "title": "Card Id"
          },
          "period_start": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Period Start"
          },
          "period_end": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Period End"
          },
          "close_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Close Date"
          },
          "due_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Due Date"
          },
          "previous_balance": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Previous Balance"
          },
          "current_balance": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Balance"
          },
          "minimum_payment": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Minimum Payment"
          },
          "is_fully_paid": {
            "type": "boolean",
            "title": "Is Fully Paid",
            "default": false
          },
          "currency": {
            "type": "string",
            "maxLength": 3,
            "title": "Currency",
            "default": "ARS"
          },
          "status": {
            "$ref": "#/components/schemas/StatementStatus",
            "default": "complete"
          },
          "source_file_path": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Source File Path"
          }
        },
        "type": "object",
        "required": [
          "card_id"
        ],
        "title": "CardStatementCreate",
        "description": "Model for creating card statement."
      },
      "CardStatementPublic": {
        "properties": {
          "card_id": {
            "type": "string",
            "format": "uuid",
            "title": "Card Id"
          },
          "period_start": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Period Start"
          },
          "period_end": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Period End"
          },
          "close_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Close Date"
          },
          "due_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Due Date"
          },
          "previous_balance": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Previous Balance"
          },
          "current_balance": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Balance"
          },
          "minimum_payment": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Minimum Payment"
          },
          "is_fully_paid": {
            "type": "boolean",
            "title": "Is Fully Paid",
            "default": false
          },
          "currency": {
            "type": "string",
            "maxLength": 3,
            "title": "Currency",
            "default": "ARS"
          },
          "status": {
            "$ref": "#/components/schemas/StatementStatus",
            "default": "complete"
          },
          "source_file_path": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Source File Path"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          }
        },
        "type": "object",
        "required": [
          "card_id",
          "id"
        ],
        "title": "CardStatementPublic",
        "description": "Public model for card statements."
      },
      "CardStatementUpdate": {
        "properties": {
          "card_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Card Id"
          },
          "period_start": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Period Start"
          },
          "period_end": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Period End"
          },
          "close_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Close Date"
          },
          "due_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Due Date"
          },
          "previous_balance": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Previous Balance"
          },
          "current_balance": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Balance"
          },
          "minimum_payment": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Minimum Payment"
          },
          "is_fully_paid": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Fully Paid"
          },
          "currency": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 3
              },
              {
                "type": "null"
              }
            ],
            "title": "Currency"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StatementStatus"
              },
              {
                "type": "null"
              }
            ]
          },
          "source_file_path": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Source File Path"
          }
        },
        "type": "object",
        "title": "CardStatementUpdate",
        "description": "Model for updating card statement."
      },
      "CardStatementsPublic": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/CardStatementPublic"
            },
            "type": "array",
            "title": "Data"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          },
          "pagination": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pagination"
          }
        },
        "type": "object",
        "required": [
          "data",
          "count"
        ],
        "title": "CardStatementsPublic",
        "description": "Response model for paginated card statements."
      },
      "ConditionField": {
        "type": "string",
        "enum": [
          "payee",
          "description",
          "amount",
          "date"
        ],
        "title": "ConditionField",
        "description": "Fields that can be matched in rule conditions."
      },
      "ConditionOperator": {
        "type": "string",
        "enum": [
          "contains",
          "equals",
          "gt",
          "gte",
          "lt",
          "lte",
          "before",
          "after",
          "between"
        ],
        "title": "ConditionOperator",
        "description": "Operators for condition matching."
      },
      "CreditCardCreate": {
        "properties": {
          "user_id": {
            "type": "string",
            "format": "uuid",
            "title": "User Id"
          },
          "bank": {
            "type": "string",
            "maxLength": 100,
            "title": "Bank"
          },
          "brand": {
            "$ref": "#/components/schemas/CardBrand"
          },
          "last4": {
            "type": "string",
            "maxLength": 4,
            "title": "Last4"
          },
          "alias": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Alias"
          },
          "default_currency": {
            "type": "string",
            "maxLength": 3,
            "title": "Default Currency",
            "default": "ARS"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "bank",
          "brand",
          "last4"
        ],
        "title": "CreditCardCreate",
        "description": "Model for creating credit card."
      },
      "CreditCardPublic": {
        "properties": {
          "user_id": {
            "type": "string",
            "format": "uuid",
            "title": "User Id"
          },
          "bank": {
            "type": "string",
            "maxLength": 100,
            "title": "Bank"
          },
          "brand": {
            "$ref": "#/components/schemas/CardBrand"
          },
          "last4": {
            "type": "string",
            "maxLength": 4,
            "title": "Last4"
          },
          "alias": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Alias"
          },
          "default_currency": {
            "type": "string",
            "maxLength": 3,
            "title": "Default Currency",
            "default": "ARS"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "credit_limit": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Credit Limit"
          },
          "limit_last_updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Limit Last Updated At"
          },
          "limit_source": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/LimitSource"
              },
              {
                "type": "null"
              }
            ]
          },
          "outstanding_balance": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Outstanding Balance",
            "default": "0"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "bank",
          "brand",
          "last4",
          "id"
        ],
        "title": "CreditCardPublic",
        "description": "Public model for credit cards."
      },
      "CreditCardUpdate": {
        "properties": {
          "bank": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Bank"
          },
          "brand": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CardBrand"
              },
              {
                "type": "null"
              }
            ]
          },
          "last4": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 4
              },
              {
                "type": "null"
              }
            ],
            "title": "Last4"
          },
          "alias": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Alias"
          },
          "default_currency": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 3
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Currency"
          },
          "credit_limit": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Credit Limit"
          }
        },
        "type": "object",
        "title": "CreditCardUpdate",
        "description": "Model for updating credit card."
      },
      "CreditCardsPublic": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/CreditCardPublic"
            },
            "type": "array",
            "title": "Data"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          }
        },
        "type": "object",
        "required": [
          "data",
          "count"
        ],
        "title": "CreditCardsPublic",
        "description": "Response model for paginated credit cards."
      },
      "CurrencyConversionRequest": {
        "properties": {
          "amount": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              }
            ],
            "title": "Amount"
          },
          "from_currency": {
            "type": "string",
            "maxLength": 3,
            "minLength": 3,
            "title": "From Currency"
          },
          "to_currency": {
            "type": "string",
            "maxLength": 3,
            "minLength": 3,
            "title": "To Currency"
          },
          "date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Date"
          }
        },
        "type": "object",
        "required": [
          "amount",
          "from_currency",
          "to_currency"
        ],
        "title": "CurrencyConversionRequest",
        "description": "Request model for converting an amount from one currency to another."
      },
      "CurrencyConversionResponse": {
        "properties": {
          "original_amount": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Original Amount"
          },
          "converted_amount": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Converted Amount"
          },
          "from_currency": {
            "type": "string",
            "title": "From Currency"
          },
          "to_currency": {
            "type": "string",
            "title": "To Currency"
          },
          "rate": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Rate"
          },
          "rate_date": {
            "type": "string",
            "format": "date",
            "title": "Rate Date"
          }
        },
        "type": "object",
        "required": [
          "original_amount",
          "converted_amount",
          "from_currency",
          "to_currency",
          "rate",
          "rate_date"
        ],
        "title": "CurrencyConversionResponse",
        "description": "Response model for a currency conversion."
      },
      "ExchangeRatePublic": {
        "properties": {
          "rate_date": {
            "type": "string",
            "format": "date",
            "title": "Rate Date"
          },
          "buy_rate": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Buy Rate"
          },
          "sell_rate": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Sell Rate"
          },
          "average_rate": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Average Rate"
          },
          "source": {
            "type": "string",
            "title": "Source"
          },
          "fetched_at": {
            "type": "string",
            "format": "date-time",
            "title": "Fetched At"
          }
        },
        "type": "object",
        "required": [
          "rate_date",
          "buy_rate",
          "sell_rate",
          "average_rate",
          "source",
          "fetched_at"
        ],
        "title": "ExchangeRatePublic",
        "description": "Public response model for an exchange rate."
      },
      "ExchangeRatesResponse": {
        "properties": {
          "base_currency": {
            "type": "string",
            "title": "Base Currency"
          },
          "target_currency": {
            "type": "string",
            "title": "Target Currency"
          },
          "rates": {
            "items": {
              "$ref": "#/components/schemas/ExchangeRatePublic"
            },
            "type": "array",
            "title": "Rates"
          }
        },
        "type": "object",
        "required": [
          "base_currency",
          "target_currency",
          "rates"
        ],
        "title": "ExchangeRatesResponse",
        "description": "Response model for multiple exchange rates."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "LimitSource": {
        "type": "string",
        "enum": [
          "manual",
          "statement"
        ],
        "title": "LimitSource",
        "description": "Enumeration for credit card limit sources."
      },
      "LogicalOperator": {
        "type": "string",
        "enum": [
          "AND",
          "OR"
        ],
        "title": "LogicalOperator",
        "description": "Logical operators for combining conditions."
      },
      "Message": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "Message"
      },
      "NewPassword": {
        "properties": {
          "token": {
            "type": "string",
            "title": "Token"
          },
          "new_password": {
            "type": "string",
            "maxLength": 40,
            "minLength": 8,
            "title": "New Password"
          }
        },
        "type": "object",
        "required": [
          "token",
          "new_password"
        ],
        "title": "NewPassword"
      },
      "PaymentCreate": {
        "properties": {
          "user_id": {
            "type": "string",
            "format": "uuid",
            "title": "User Id"
          },
          "statement_id": {
            "type": "string",
            "format": "uuid",
            "title": "Statement Id"
          },
          "amount": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              }
            ],
            "title": "Amount"
          },
          "payment_date": {
            "type": "string",
            "format": "date",
            "title": "Payment Date"
          },
          "currency": {
            "type": "string",
            "maxLength": 3,
            "title": "Currency"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "statement_id",
          "amount",
          "payment_date",
          "currency"
        ],
        "title": "PaymentCreate",
        "description": "Model for creating payment."
      },
      "PaymentPublic": {
        "properties": {
          "user_id": {
            "type": "string",
            "format": "uuid",
            "title": "User Id"
          },
          "statement_id": {
            "type": "string",
            "format": "uuid",
            "title": "Statement Id"
          },
          "amount": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Amount"
          },
          "payment_date": {
            "type": "string",
            "format": "date",
            "title": "Payment Date"
          },
          "currency": {
            "type": "string",
            "maxLength": 3,
            "title": "Currency"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "statement_id",
          "amount",
          "payment_date",
          "currency",
          "id"
        ],
        "title": "PaymentPublic",
        "description": "Public model for payments."
      },
      "PaymentUpdate": {
        "properties": {
          "statement_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Statement Id"
          },
          "amount": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Amount"
          },
          "payment_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Payment Date"
          },
          "currency": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 3
              },
              {
                "type": "null"
              }
            ],
            "title": "Currency"
          }
        },
        "type": "object",
        "title": "PaymentUpdate",
        "description": "Model for updating payment."
      },
      "PaymentsPublic": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/PaymentPublic"
            },
            "type": "array",
            "title": "Data"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          },
          "pagination": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pagination"
          }
        },
        "type": "object",
        "required": [
          "data",
          "count"
        ],
        "title": "PaymentsPublic",
        "description": "Response model for paginated payments."
      },
      "PrivateUserCreate": {
        "properties": {
          "email": {
            "type": "string",
            "title": "Email"
          },
          "password": {
            "type": "string",
            "title": "Password"
          },
          "full_name": {
            "type": "string",
            "title": "Full Name"
          },
          "is_verified": {
            "type": "boolean",
            "title": "Is Verified",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "email",
          "password",
          "full_name"
        ],
        "title": "PrivateUserCreate"
      },
      "RuleActionCreate": {
        "properties": {
          "action_type": {
            "$ref": "#/components/schemas/ActionType"
          },
          "tag_id": {
            "type": "string",
            "format": "uuid",
            "title": "Tag Id"
          }
        },
        "type": "object",
        "required": [
          "action_type",
          "tag_id"
        ],
        "title": "RuleActionCreate",
        "description": "Input schema for creating an action within a rule."
      },
      "RuleActionPublic": {
        "properties": {
          "action_id": {
            "type": "string",
            "format": "uuid",
            "title": "Action Id"
          },
          "action_type": {
            "$ref": "#/components/schemas/ActionType"
          },
          "tag_id": {
            "type": "string",
            "format": "uuid",
            "title": "Tag Id"
          }
        },
        "type": "object",
        "required": [
          "action_id",
          "action_type",
          "tag_id"
        ],
        "title": "RuleActionPublic",
        "description": "Output schema for action in API responses."
      },
      "RuleConditionCreate": {
        "properties": {
          "field": {
            "$ref": "#/components/schemas/ConditionField"
          },
          "operator": {
            "$ref": "#/components/schemas/ConditionOperator"
          },
          "value": {
            "type": "string",
            "title": "Value"
          },
          "value_secondary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Value Secondary"
          },
          "logical_operator": {
            "$ref": "#/components/schemas/LogicalOperator",
            "default": "AND"
          }
        },
        "type": "object",
        "required": [
          "field",
          "operator",
          "value"
        ],
        "title": "RuleConditionCreate",
        "description": "Input schema for creating a condition within a rule."
      },
      "RuleConditionPublic": {
        "properties": {
          "condition_id": {
            "type": "string",
            "format": "uuid",
            "title": "Condition Id"
          },
          "field": {
            "$ref": "#/components/schemas/ConditionField"
          },
          "operator": {
            "$ref": "#/components/schemas/ConditionOperator"
          },
          "value": {
            "type": "string",
            "title": "Value"
          },
          "value_secondary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Value Secondary"
          },
          "logical_operator": {
            "$ref": "#/components/schemas/LogicalOperator"
          },
          "position": {
            "type": "integer",
            "title": "Position"
          }
        },
        "type": "object",
        "required": [
          "condition_id",
          "field",
          "operator",
          "value",
          "value_secondary",
          "logical_operator",
          "position"
        ],
        "title": "RuleConditionPublic",
        "description": "Output schema for condition in API responses."
      },
      "RuleCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 200,
            "title": "Name"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "conditions": {
            "items": {
              "$ref": "#/components/schemas/RuleConditionCreate"
            },
            "type": "array",
            "title": "Conditions"
          },
          "actions": {
            "items": {
              "$ref": "#/components/schemas/RuleActionCreate"
            },
            "type": "array",
            "title": "Actions"
          }
        },
        "type": "object",
        "required": [
          "name",
          "conditions",
          "actions"
        ],
        "title": "RuleCreate",
        "description": "Input schema for creating a complete rule with conditions and actions."
      },
      "RuleMatch": {
        "properties": {
          "rule_id": {
            "type": "string",
            "format": "uuid",
            "title": "Rule Id"
          },
          "rule_name": {
            "type": "string",
            "title": "Rule Name"
          },
          "tags_applied": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "title": "Tags Applied"
          }
        },
        "type": "object",
        "required": [
          "rule_id",
          "rule_name",
          "tags_applied"
        ],
        "title": "RuleMatch",
        "description": "Info about a single rule that matched a transaction."
      },
      "RulePublic": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 200,
            "title": "Name"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "rule_id": {
            "type": "string",
            "format": "uuid",
            "title": "Rule Id"
          },
          "user_id": {
            "type": "string",
            "format": "uuid",
            "title": "User Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "conditions": {
            "items": {
              "$ref": "#/components/schemas/RuleConditionPublic"
            },
            "type": "array",
            "title": "Conditions"
          },
          "actions": {
            "items": {
              "$ref": "#/components/schemas/RuleActionPublic"
            },
            "type": "array",
            "title": "Actions"
          }
        },
        "type": "object",
        "required": [
          "name",
          "rule_id",
          "user_id",
          "created_at",
          "updated_at",
          "conditions",
          "actions"
        ],
        "title": "RulePublic",
        "description": "Output schema for complete rule in API responses."
      },
      "RuleUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          },
          "conditions": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/RuleConditionCreate"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conditions"
          },
          "actions": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/RuleActionCreate"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Actions"
          }
        },
        "type": "object",
        "title": "RuleUpdate",
        "description": "Input schema for partial rule updates."
      },
      "RulesPublic": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/RulePublic"
            },
            "type": "array",
            "title": "Data"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          }
        },
        "type": "object",
        "required": [
          "data",
          "count"
        ],
        "title": "RulesPublic",
        "description": "Paginated list response for rules."
      },
      "StatementStatus": {
        "type": "string",
        "enum": [
          "complete",
          "pending_review"
        ],
        "title": "StatementStatus",
        "description": "Status of a card statement."
      },
      "TagCreate": {
        "properties": {
          "user_id": {
            "type": "string",
            "format": "uuid",
            "title": "User Id"
          },
          "label": {
            "type": "string",
            "maxLength": 200,
            "title": "Label"
          },
          "color": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 7
              },
              {
                "type": "null"
              }
            ],
            "title": "Color"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "label"
        ],
        "title": "TagCreate",
        "description": "Model for creating tag."
      },
      "TagPublic": {
        "properties": {
          "user_id": {
            "type": "string",
            "format": "uuid",
            "title": "User Id"
          },
          "label": {
            "type": "string",
            "maxLength": 200,
            "title": "Label"
          },
          "color": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 7
              },
              {
                "type": "null"
              }
            ],
            "title": "Color"
          },
          "tag_id": {
            "type": "string",
            "format": "uuid",
            "title": "Tag Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "label",
          "tag_id",
          "created_at"
        ],
        "title": "TagPublic",
        "description": "Public model for tags."
      },
      "TagUpdate": {
        "properties": {
          "label": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Label"
          },
          "color": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 7
              },
              {
                "type": "null"
              }
            ],
            "title": "Color"
          }
        },
        "type": "object",
        "title": "TagUpdate",
        "description": "Model for updating tag."
      },
      "TagsPublic": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/TagPublic"
            },
            "type": "array",
            "title": "Data"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          },
          "pagination": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pagination"
          }
        },
        "type": "object",
        "required": [
          "data",
          "count"
        ],
        "title": "TagsPublic",
        "description": "Response model for paginated tags."
      },
      "Token": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "default": "bearer"
          }
        },
        "type": "object",
        "required": [
          "access_token"
        ],
        "title": "Token"
      },
      "TransactionCreate": {
        "properties": {
          "statement_id": {
            "type": "string",
            "format": "uuid",
            "title": "Statement Id"
          },
          "txn_date": {
            "type": "string",
            "format": "date",
            "title": "Txn Date"
          },
          "payee": {
            "type": "string",
            "maxLength": 200,
            "title": "Payee"
          },
          "description": {
            "type": "string",
            "maxLength": 500,
            "title": "Description"
          },
          "amount": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              }
            ],
            "title": "Amount"
          },
          "currency": {
            "type": "string",
            "maxLength": 3,
            "title": "Currency"
          },
          "coupon": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Coupon"
          },
          "installment_cur": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Installment Cur"
          },
          "installment_tot": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Installment Tot"
          }
        },
        "type": "object",
        "required": [
          "statement_id",
          "txn_date",
          "payee",
          "description",
          "amount",
          "currency"
        ],
        "title": "TransactionCreate",
        "description": "Model for creating transaction."
      },
      "TransactionMatch": {
        "properties": {
          "transaction_id": {
            "type": "string",
            "format": "uuid",
            "title": "Transaction Id"
          },
          "matched_rules": {
            "items": {
              "$ref": "#/components/schemas/RuleMatch"
            },
            "type": "array",
            "title": "Matched Rules"
          }
        },
        "type": "object",
        "required": [
          "transaction_id",
          "matched_rules"
        ],
        "title": "TransactionMatch",
        "description": "Info about a transaction and which rules matched it."
      },
      "TransactionPublic": {
        "properties": {
          "statement_id": {
            "type": "string",
            "format": "uuid",
            "title": "Statement Id"
          },
          "txn_date": {
            "type": "string",
            "format": "date",
            "title": "Txn Date"
          },
          "payee": {
            "type": "string",
            "maxLength": 200,
            "title": "Payee"
          },
          "description": {
            "type": "string",
            "maxLength": 500,
            "title": "Description"
          },
          "amount": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Amount"
          },
          "currency": {
            "type": "string",
            "maxLength": 3,
            "title": "Currency"
          },
          "coupon": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Coupon"
          },
          "installment_cur": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Installment Cur"
          },
          "installment_tot": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Installment Tot"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          }
        },
        "type": "object",
        "required": [
          "statement_id",
          "txn_date",
          "payee",
          "description",
          "amount",
          "currency",
          "id"
        ],
        "title": "TransactionPublic",
        "description": "Public model for transactions."
      },
      "TransactionTagCreate": {
        "properties": {
          "transaction_id": {
            "type": "string",
            "format": "uuid",
            "title": "Transaction Id"
          },
          "tag_id": {
            "type": "string",
            "format": "uuid",
            "title": "Tag Id"
          }
        },
        "type": "object",
        "required": [
          "transaction_id",
          "tag_id"
        ],
        "title": "TransactionTagCreate",
        "description": "Model for creating a transaction tag relationship."
      },
      "TransactionTagPublic": {
        "properties": {
          "transaction_id": {
            "type": "string",
            "format": "uuid",
            "title": "Transaction Id"
          },
          "tag_id": {
            "type": "string",
            "format": "uuid",
            "title": "Tag Id"
          }
        },
        "type": "object",
        "required": [
          "transaction_id",
          "tag_id"
        ],
        "title": "TransactionTagPublic",
        "description": "Public model for transaction tags."
      },
      "TransactionUpdate": {
        "properties": {
          "txn_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Txn Date"
          },
          "payee": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Payee"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "amount": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Amount"
          },
          "currency": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 3
              },
              {
                "type": "null"
              }
            ],
            "title": "Currency"
          },
          "coupon": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Coupon"
          },
          "installment_cur": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Installment Cur"
          },
          "installment_tot": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Installment Tot"
          }
        },
        "type": "object",
        "title": "TransactionUpdate",
        "description": "Model for updating transaction."
      },
      "TransactionsPublic": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/TransactionPublic"
            },
            "type": "array",
            "title": "Data"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          },
          "pagination": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pagination"
          }
        },
        "type": "object",
        "required": [
          "data",
          "count"
        ],
        "title": "TransactionsPublic",
        "description": "Response model for paginated transactions."
      },
      "TriggerResponse": {
        "properties": {
          "statements_found": {
            "type": "integer",
            "title": "Statements Found"
          },
          "notification_sent": {
            "type": "boolean",
            "title": "Notification Sent"
          }
        },
        "type": "object",
        "required": [
          "statements_found",
          "notification_sent"
        ],
        "title": "TriggerResponse"
      },
      "UpdatePassword": {
        "properties": {
          "current_password": {
            "type": "string",
            "maxLength": 40,
            "minLength": 8,
            "title": "Current Password"
          },
          "new_password": {
            "type": "string",
            "maxLength": 40,
            "minLength": 8,
            "title": "New Password"
          }
        },
        "type": "object",
        "required": [
          "current_password",
          "new_password"
        ],
        "title": "UpdatePassword"
      },
      "UploadJobPublic": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "status": {
            "$ref": "#/components/schemas/UploadJobStatus"
          },
          "statement_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Statement Id"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "status",
          "statement_id",
          "error_message",
          "created_at",
          "updated_at",
          "completed_at"
        ],
        "title": "UploadJobPublic",
        "description": "Public model for upload jobs."
      },
      "UploadJobStatus": {
        "type": "string",
        "enum": [
          "pending",
          "processing",
          "completed",
          "failed",
          "partial"
        ],
        "title": "UploadJobStatus",
        "description": "Status of an upload job."
      },
      "UserBalancePublic": {
        "properties": {
          "total_balance": {
            "type": "number",
            "title": "Total Balance"
          },
          "monthly_balance": {
            "type": "number",
            "title": "Monthly Balance"
          }
        },
        "type": "object",
        "required": [
          "total_balance",
          "monthly_balance"
        ],
        "title": "UserBalancePublic",
        "description": "Response model for user balance information."
      },
      "UserCreate": {
        "properties": {
          "email": {
            "type": "string",
            "maxLength": 255,
            "format": "email",
            "title": "Email"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "is_superuser": {
            "type": "boolean",
            "title": "Is Superuser",
            "default": false
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "preferred_currency": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 3
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Currency"
          },
          "notifications_enabled": {
            "type": "boolean",
            "title": "Notifications Enabled",
            "default": false
          },
          "ntfy_topic": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Ntfy Topic"
          },
          "password": {
            "type": "string",
            "maxLength": 40,
            "minLength": 8,
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "title": "UserCreate"
      },
      "UserPublic": {
        "properties": {
          "email": {
            "type": "string",
            "maxLength": 255,
            "format": "email",
            "title": "Email"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "is_superuser": {
            "type": "boolean",
            "title": "Is Superuser",
            "default": false
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "preferred_currency": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 3
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Currency"
          },
          "notifications_enabled": {
            "type": "boolean",
            "title": "Notifications Enabled",
            "default": false
          },
          "ntfy_topic": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Ntfy Topic"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          }
        },
        "type": "object",
        "required": [
          "email",
          "id"
        ],
        "title": "UserPublic"
      },
      "UserRegister": {
        "properties": {
          "email": {
            "type": "string",
            "maxLength": 255,
            "format": "email",
            "title": "Email"
          },
          "password": {
            "type": "string",
            "maxLength": 40,
            "minLength": 8,
            "title": "Password"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          }
        },
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "title": "UserRegister"
      },
      "UserUpdate": {
        "properties": {
          "email": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "is_superuser": {
            "type": "boolean",
            "title": "Is Superuser",
            "default": false
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "preferred_currency": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 3
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Currency"
          },
          "notifications_enabled": {
            "type": "boolean",
            "title": "Notifications Enabled",
            "default": false
          },
          "ntfy_topic": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Ntfy Topic"
          },
          "password": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 40,
                "minLength": 8
              },
              {
                "type": "null"
              }
            ],
            "title": "Password"
          }
        },
        "type": "object",
        "title": "UserUpdate"
      },
      "UserUpdateMe": {
        "properties": {
          "full_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "preferred_currency": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 3
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Currency"
          },
          "notifications_enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notifications Enabled"
          },
          "ntfy_topic": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Ntfy Topic"
          }
        },
        "type": "object",
        "title": "UserUpdateMe"
      },
      "UsersPublic": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/UserPublic"
            },
            "type": "array",
            "title": "Data"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          }
        },
        "type": "object",
        "required": [
          "data",
          "count"
        ],
        "title": "UsersPublic"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    },
    "securitySchemes": {
      "OAuth2PasswordBearer": {
        "type": "oauth2",
        "flows": {
          "password": {
            "scopes": {},
            "tokenUrl": "/api/v1/login/access-token"
          }
        }
      }
    }
  }
}